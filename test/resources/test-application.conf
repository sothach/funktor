play.http.secret.key="IN_PRODUCTION_CHANGE_THIS_TO_A_LONG_RANDOM_STRING"
play.http.secret.key=${?APP_SECRET}

include "copiadb-h2.conf"

play {
  i18n.langs = [ "en", "de"]
  http {
    errorHandler = "common.ApiErrorHandler"
  }
  modules.enabled += "Bootstrap"
  evolutions {
    db {
      machdb {
        enabled = true
        autoApply = true
        autoApplyDowns = false
        logStatements = true
        logSql = true
      }
    }
  }
}

daemons = [
  {
    name = charity-response
    interval = 1 minute
    remindAfter = 20 minutes
  },
  {
    name = donation-offer
    interval = 0
  }
]

amqp {
  uri = "amqp://guest:guest@localhost:5672/%2F"
  uri = ${?CLOUDAMQP_URL}
}

aula {
  transport = "http"
  http {
    endpoint = "http://localhost:8080"
  }
  amqp {
    endpoint = ${amqp.uri}
    queue = "aula-organization"
  }
}
metro {
  endpoint = ${amqp.uri}
  events {
    exchange {
      name = event-bus
      key = event
    }
  }
  queues {
    donations-post = donations-post
    sms-send = sms-send
  }
}

akka {
  jvm-exit-on-fatal-error=off

  actor {
    loglevel = "DEBUG"
  }

  stream {
    materializer {
      debug-logging = on
    }
  }

  loglevel = "DEBUG"
  loggers = ["akka.event.slf4j.Slf4jLogger"]
  logging-filter = "akka.event.slf4j.Slf4jLoggingFilter"
}