# --- !Ups

CREATE TABLE donation_event (
  id SERIAL NOT NULL PRIMARY KEY,
  timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  event_type VARCHAR(20) NOT NULL,
  source VARCHAR(12) NOT NULL,
  aggregate_id VARCHAR(36) NOT NULL,
  donor_id VARCHAR(36) NOT NULL,
  recipient_id VARCHAR(36),
  created TIMESTAMP NOT NULL,
  category VARCHAR(3),
  units VARCHAR(4),
  quantity DOUBLE PRECISION
);
CREATE INDEX ON donation_event(aggregate_id);
CREATE INDEX ON donation_event(donor_id);

INSERT INTO donation_event(event_type,source,aggregate_id,donor_id,recipient_id,created,category,units,quantity) VALUES
  ('Accepted','Copia','a2923d23-4977-456b-a473-530098b53c9f','TESTCO:6507','FS:00124000017ceKI','2017-06-21 18:38:30.424','FFV','Tray',1),
  ('Accepted','Copia','a2923d23-4977-456b-a473-530098b53c9f','TESTCO:6507','FS:00124000017ceKI','2017-06-21 18:38:30.428','BKR','Tray',2),
  ('Offered','Copia','b363e1e1-6b3c-49cd-94bd-9c478e7670db','TESTCO:6325','FS:0012400000x2UG7','2017-06-21 18:37:42','BKR','Tray',1),
  ('Offered','Copia','d7dd2ba4-555f-41de-ab26-bf7730bd1611','TESTCO:2233','FS:0012400000i09rX','2017-06-21 18:37:40','FFV','Tray',2),
  ('Offered','Copia','d7dd2ba4-555f-41de-ab26-bf7730bd1611','TESTCO:2233','FS:0012400000i09rX','2017-06-21 18:37:40','BKR','Tray',6),
  ('Offered','Copia','ab9812e1-47a1-4b9f-98a4-556a51a6bc5e','TESTCO:6129','FS:00124000010BFmo','2017-06-21 18:37:40','BKR','Tray',2),
  ('Unscheduled','Copia','e3a1141e-db15-4368-884a-04cfead0c002','TESTCO:6599','','2017-09-14 19:09:00','','',0),
  ('Available','Copia','297d5315-51e8-4b86-a92d-3ea2a948853a','TESTCO:3433','FS:0012400000fuEDI','2017-06-21 18:37:48','BKR','Tray',2),
  ('NoAvailability','Copia','68da36c9-dd53-4877-a2e1-e7a277aba8d4','TESTCO:2590','','2017-06-21 18:38:43.542','','',0),
  ('Available','Copia','8a86431f-4a2d-473f-bdbb-f93b64b6f5ee','TESTCO:5450','FS:0012400000V1Zoe','2017-06-21 18:37:46','BKR','Tray',2),
  ('Available','Copia','742e8c6c-838b-486a-83a6-86fe58e3417e','TESTCO:6068','FS:0012400001BSI0O','2017-06-21 18:37:47','BKR','Tray',1),
  ('Available','Copia','4fbdc912-e250-4d5a-9ba0-55b65df98fc6','TESTCO:5199','FS:001240000113kCN','2017-06-21 18:37:43','BKR','Tray',1),
  ('Available','Copia','9f2206c2-fe7e-4872-a2fa-9463a4db8f11','TESTCO:3309','FS:0012400000ji3iX','2017-06-21 18:37:43','BKR','Tray',1),
  ('Available','Copia','e90859fa-2f6c-4954-8736-70e3e44abdeb','TESTCO:5665','FS:0012400001BUeoF','2017-06-21 18:37:45','FFV','Tray',1),
  ('Available','Copia','5ece4279-31f1-4af9-99c4-0459f72421dc','TESTCO:2204','FS:0012400000csJpB','2017-06-21 18:37:48','BKR','Tray',2),
  ('Available','Copia','8bbdb264-a733-43e6-9058-bce24a2f86fd','TESTCO:5013','FS:00124000018veYA','2017-06-21 18:37:46','BKR','Tray',1),
  ('NoAvailability','Copia','774d4066-cd21-46fb-a555-b79a92e0f4b8','TESTCO:3339','','2017-06-21 18:38:43.89','','',0),
  ('Available','Copia','742e8c6c-838b-486a-83a6-86fe58e3417e','TESTCO:6068','FS:0012400001BSI0O','2017-06-21 18:37:47','CHL','Tray',1),
  ('Accepted','Copia','b68d2f7f-3a02-49b6-9a49-009be60b86f1','TESTCO:5541','FS:0012400001BUrag','2017-06-21 17:42:39','BKR','Tray',2),
  ('Offered','Copia','dec44e4b-8f5d-4308-a717-fc5e2d8403a1','TESTCO:6468','FS:00124000010BOI2','2017-06-21 18:32:51','FFV','Tray',1),
  ('Available','Copia','0592a527-bfb3-43c9-abde-a80dff1778cd','TESTCO:5482','FS:0012400000U5hAq','2017-06-21 18:32:53','BKR','Tray',1),
  ('Available','Copia','568beac2-574f-4726-9101-7f964966cd24','TESTCO:5673','FS:0012400000jPX46','2017-06-21 18:32:50','BKR','Tray',1),
  ('Available','Copia','65a2245d-58a0-44eb-b0ba-97eb640500da','TESTCO:5892','FS:0012400000an6OB','2017-06-21 18:32:55','BKR','Tray',8),
  ('Offered','Copia','ab3e6dc2-ef47-43d2-8714-46d964f7d2a5','TESTCO:5114','FS:0012400000U764a','2017-06-21 18:32:40','FFV','Tray',1),
  ('Available','Copia','178a18d7-9411-4181-8d7c-b6d8beac3a2a','TESTCO:6864','FS:0012400000YQtH4','2017-06-21 18:32:54','BKR','Tray',1),
  ('Available','Copia','f09440cb-3ab7-4710-92b8-123e726055e9','TESTCO:5634','','2017-06-21 18:32:51','FFV','Tray',1),
  ('Available','Copia','69e7af20-ea96-4e14-aaa6-20c18140628b','TESTCO:6608','FS:0012400000qaM8b','2017-06-21 18:37:39','BKR','Tray',2),
  ('Available','Copia','5700ef13-44c5-4e61-8c00-2550aac2c081','TESTCO:5082','FS:0012400000pQn89','2017-06-21 18:32:53','BKR','Tray',1),
  ('Available','Copia','742e8c6c-838b-486a-83a6-86fe58e3417e','TESTCO:6068','FS:0012400001BSI0O','2017-06-21 18:37:47','CHL','Tray',1),
  ('Available','Copia','f09440cb-3ab7-4710-92b8-123e726055e9','TESTCO:5634','','2017-06-21 18:32:51','BKR','Tray',2),
  ('Available','Copia','349adaa6-ff2a-4d7b-87dc-2f8616b39480','TESTCO:5919','FS:00124000017abYQ','2017-06-21 18:32:48','BKR','Tray',1),
  ('Available','Copia','19b4cf60-cfd2-4354-bc88-d6e682c16832','TESTCO:5184','FS:0012400000fv0RH','2017-06-21 18:32:53','BKR','Tray',1),
  ('Unscheduled','Copia','cc1c0b02-42b9-4ecf-963d-99141871de3f','TESTCO:6816','','2017-09-14 19:09:00','','',0),
  ('Unscheduled','Copia','3841980c-9905-46ff-937d-dabeb17cc10d','TESTCO:6051','','2017-09-14 19:09:00','','',0),
  ('Available','Copia','618f09e3-d910-4dba-bb38-0e15a4e7d7f7','TESTCO:4396','FS:00124000018s2hQ','2017-06-21 18:32:44','BKR','Tray',1),
  ('Unscheduled','Copia','d1c444d7-105d-43bd-b997-d78afb049988','TESTCO:2322','','2017-09-14 19:09:00','','',0),
  ('Available','Copia','c4b27ef1-0787-4853-8ea6-4820e535542e','TESTCO:2222','FS:0012400000f0uLN','2017-06-21 18:37:41','BKR','Tray',1),
  ('Available','Copia','3119aaad-4a60-4198-b324-bbb104170172','TESTCO:2547','FS:0012400000pPIwI','2017-06-21 18:32:48','FFV','Tray',5),
  ('NoAvailability','Copia','828e5fd1-3248-4719-96f7-2d0f4f28bd62','TESTCO:2729','','2017-06-21 18:38:48.156','','',0),
  ('Available','Copia','62ada748-380e-46a5-b48f-3941fe7e66e3','TESTCO:4341','FS:0012400000U5ySQAAZ','2017-06-21 18:32:41','BKR','Tray',1),
  ('Accepted','Copia','7a81c94a-d4e1-42a7-9bbf-89ed822caba2','TESTCO:2491','FS:00124000014ApWV','2017-06-21 18:28:16','GRY','Tray',2),
  ('Available','Copia','80fb7331-d1e8-4bce-aecf-cd9ebdbdaa90','TESTCO:3332','FS:00124000018sHom','2017-06-21 18:32:42','BKR','Tray',1),
  ('Accepted','Copia','792fbac4-49df-4213-9b95-f2f0e85b0875','TESTCO:2555','FS:0012400000ptgd8','2017-06-21 18:28:08','BKR','Tray',3),
  ('Accepted','Copia','bb1aab0b-a137-4fdb-ad28-960f8871065f','TESTCO:2071','FS:0012400000edGHh','2017-06-21 18:28:14','FFV','Tray',5),
  ('Available','Copia','87f6f969-b9a5-4ba4-a98c-fd9863d2e293','TESTCO:2440','FS:0012400000U66rD','2017-06-21 18:32:46','BKR','Tray',4),
  ('Unscheduled','Copia','6ab0e9ee-c4b4-47b9-b3d8-48df95006df0','TESTCO:5616','','2017-09-14 19:09:00','','',0),
  ('Available','Copia','62ada748-380e-46a5-b48f-3941fe7e66e3','TESTCO:4341','FS:0012400000U5ySQAAZ','2017-06-21 18:32:41','FFV','Tray',1),
  ('Available','Copia','80fb7331-d1e8-4bce-aecf-cd9ebdbdaa90','TESTCO:3332','FS:00124000018sHom','2017-06-21 18:32:42','CHL','Tray',1),
  ('Accepted','Copia','a75bf18c-e2d9-468f-bf05-890c805c1f31','TESTCO:4617','FS:00124000018uXpL','2017-06-21 18:32:52','FFV','Tray',1),
  ('Available','Copia','439ca242-5127-4def-844a-62f373a1dfc8','TESTCO:5911','','2017-06-21 18:37:50','FFV','Tray',1),
  ('Available','Copia','7d0d8f79-3ed1-4145-894a-c0cc1e8a1b84','TESTCO:2521','FS:00124000018t0X8','2017-06-21 18:32:48','BKR','Tray',1),
  ('Available','Copia','c3b9f8f4-ae2b-4a7c-9f8a-7dc2964895c4','TESTCO:4357','FS:0012400000d8dq9','2017-06-21 18:37:49','BKR','Tray',3),
  ('Available','Copia','439ca242-5127-4def-844a-62f373a1dfc8','TESTCO:5911','','2017-06-21 18:37:50','BKR','Tray',2),
  ('Available','Copia','e90859fa-2f6c-4954-8736-70e3e44abdeb','TESTCO:5665','FS:0012400001BUeoF','2017-06-21 18:37:45','BKR','Tray',3),
  ('Collected','Copia','d6e60013-d199-4881-89c1-ce016c41332b','TESTCO:3380','FS:0012400000hQlgp','2017-06-20 18:42:49','FFV','Tray',2),
  ('Collected','Copia','d6e60013-d199-4881-89c1-ce016c41332b','TESTCO:3380','FS:0012400000hQlgp','2017-06-20 18:42:49','BKR','Tray',3),
  ('Available','Copia','80fb7331-d1e8-4bce-aecf-cd9ebdbdaa90','TESTCO:3332','FS:00124000018sHom','2017-06-21 18:32:42','CHL','Tray',1),
  ('Unscheduled','Copia','c4baf7c7-6054-4643-8f69-49b6e3c9ca16','TESTCO:2397','','2017-09-14 19:09:00','','',0),
  ('Available','Copia','0e501c40-22b3-4833-9c94-7c488032f39c','TESTCO:2538','FS:001240000114EhE','2017-06-21 18:32:42','BKR','Tray',2),
  ('Rejected','Copia','ead0e45c-2b7d-45bf-a508-7d82759246da','TESTCO:2642','FS:0012400000hS9qG','2017-06-21 18:28:21','BKR','Tray',10),
  ('Accepted','Copia','b066d07d-7910-4c78-81da-534029e7b6bc','TESTCO:5675','FS:00124000018ukU1','2017-06-21 18:27:58','BKR','Tray',2),
  ('AwaitingResponse','Copia','1f88a622-8c4a-4a4b-8f1e-199a637c1b76','TESTCO:2015','FS:0012400000csIrt','2017-06-21 18:17:40','FFV','Tray',7),
  ('Rejected','Copia','d7dd2ba4-555f-41de-ab26-bf7730bd1611','TESTCO:2233','FS:0012400000i09rX','2017-06-21 18:37:40','FFV','Tray',2),
  ('Rejected','Copia','d7dd2ba4-555f-41de-ab26-bf7730bd1611','TESTCO:2233','FS:0012400000i09rX','2017-06-21 18:37:40','BKR','Tray',6),
  ('Unscheduled','Copia','f09440cb-3ab7-4710-92b8-123e726055e9','TESTCO:5634','','2017-06-21 18:39:06','','',0),
  ('Unscheduled','Copia','07d6919b-2ef7-417b-b6e3-70a5505b3934','TESTCO:3580','','2017-06-21 18:39:06','','',0),
  ('Unscheduled','Copia','439ca242-5127-4def-844a-62f373a1dfc8','TESTCO:5911','','2017-06-21 18:39:06','','',0),
  ('Accepted','Copia','af57678b-d2ac-452b-8900-a12ef909c44e','TESTCO:6227','FS:0012400000U6dHl','2017-06-21 17:52:42','BKR','Tray',1);

# --- !Downs

DROP TABLE donation_event;